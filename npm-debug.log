0 info it worked if it ends with ok
1 verbose cli [ '/usr/local/bin/node', '/usr/local/bin/npm', 'publish' ]
2 info using npm@2.14.7
3 info using node@v4.2.1
4 verbose publish [ '.' ]
5 silly cache add args [ '.', null ]
6 verbose cache add spec .
7 silly cache add parsed spec Result {
7 silly cache add   raw: '.',
7 silly cache add   scope: null,
7 silly cache add   name: null,
7 silly cache add   rawSpec: '.',
7 silly cache add   spec: '/Users/yocto/Documents/Yocto/projets/yocto-node-modules/yocto-daemon',
7 silly cache add   type: 'directory' }
8 verbose addLocalDirectory /Users/yocto/.npm/yocto-daemon/1.1.5/package.tgz not in flight; packing
9 verbose tar pack [ '/Users/yocto/.npm/yocto-daemon/1.1.5/package.tgz',
9 verbose tar pack   '/Users/yocto/Documents/Yocto/projets/yocto-node-modules/yocto-daemon' ]
10 verbose tarball /Users/yocto/.npm/yocto-daemon/1.1.5/package.tgz
11 verbose folder /Users/yocto/Documents/Yocto/projets/yocto-node-modules/yocto-daemon
12 info prepublish yocto-daemon@1.1.5
13 verbose addLocalTarball adding from inside cache /Users/yocto/.npm/yocto-daemon/1.1.5/package.tgz
14 silly cache afterAdd yocto-daemon@1.1.5
15 verbose afterAdd /Users/yocto/.npm/yocto-daemon/1.1.5/package/package.json not in flight; writing
16 verbose afterAdd /Users/yocto/.npm/yocto-daemon/1.1.5/package/package.json written
17 silly publish { name: 'yocto-daemon',
17 silly publish   description: 'Async tool to emulate an app like a system daemon',
17 silly publish   version: '1.1.5',
17 silly publish   scripts: {},
17 silly publish   author:
17 silly publish    { name: 'ROBERT Mathieu',
17 silly publish      email: 'mathieu@yocto.re',
17 silly publish      url: 'http://www.yocto.re' },
17 silly publish   contributors: [ { name: 'ROBERT Mathieu', email: 'mathieu@yocto.re' } ],
17 silly publish   maintainers: [ { name: 'ROBERT Mathieu', email: 'mathieu@yocto.re' } ],
17 silly publish   main: 'dist/index.js',
17 silly publish   repository:
17 silly publish    { type: 'git',
17 silly publish      url: 'git+https://gitlab.com/yocto-node-modules/yocto-daemon.git' },
17 silly publish   bugs: { url: 'https://gitlab.com/yocto-node-modules/yocto-daemon/issues' },
17 silly publish   license: 'Apache-2.0',
17 silly publish   engines: { node: '>=4.2.1' },
17 silly publish   files:
17 silly publish    [ 'dist/index.js',
17 silly publish      'README.md',
17 silly publish      'LICENSE-2.0.txt',
17 silly publish      'CHANGELOG.md' ],
17 silly publish   keywords:
17 silly publish    [ 'daemon',
17 silly publish      'async',
17 silly publish      'tool',
17 silly publish      'module',
17 silly publish      'utility',
17 silly publish      'queue',
17 silly publish      'cron',
17 silly publish      'task',
17 silly publish      'priority' ],
17 silly publish   dependencies:
17 silly publish    { async: '^1.4.2',
17 silly publish      lodash: '^3.10.1',
17 silly publish      q: '^1.4.1',
17 silly publish      sleep: '^3.0.0',
17 silly publish      'yocto-logger': '^1.0.0',
17 silly publish      'yocto-utils': '^0.8.0' },
17 silly publish   devDependencies:
17 silly publish    { grunt: '^0.4.5',
17 silly publish      'grunt-contrib-uglify': '^0.9.2',
17 silly publish      'grunt-mocha-cli': '^2.0.0',
17 silly publish      'yocto-hint': '^1.1.6' },
17 silly publish   readme: '## Overview\n\nThis module is a part of yocto node modules for NodeJS.\n\nPlease see [our NPM repository](https://www.npmjs.com/~yocto) for complete list of available tools (completed day after day).\n\nThis module is an async tool to emulate an app like a system daemon without setTimeout or setInterval method for the core of process.\n\n## Motivation\n\nAfter some analysis of logs and memory usage on a program who works like a system daemon\nwe decided to forget setInterval and setTimeout usage because memory leak it\'s important during \nhuge action.\n\nSo we decided to create an app that use a queue system based on a populate & execution methods.\n\n## How it works\n\nThis module start a queue process based on given delay (default 10 seconds).\n\nIt use a given populate function to retrieve data and a given execute function to process extra things (update, etc ...).\n\nWhen queue will processed the app will be sleep during given delay.\n\n## How to use \n\n```javascript\nvar logger      = require(\'yocto-logger\');\nvar daemon      = require(\'yocto-daemon\')(logger);\nvar _           = require(\'lodash\');\nvar Q           = require(\'q\');\n\n// Create a populate function\nfunction pfn() {\n\n  // create an async process here\n  var deferred = Q.defer();\n\n  // Do your get data here\n  // And when all is ok\n  if (foo) {\n    deferred.resolve(bar);\n  } else {\n    deferred.reject(bar);  \n  }\n\n  // return promise is required\n  return deferred.promise;\n}\n// Create an execution method \nfunction efn(data) {\n  // create an async process here\n  var deferred = Q.defer();\n\n  // Do your extra process here\n  // And when all is ok\n  if (foo) {\n    deferred.resolve(bar);\n  } else {\n    deferred.reject(bar);  \n  }\n\n  // return promise is required\n  return deferred.promise;\n}\n\n// set your populate function on your daemon system\ndaemon.use(pfn);\n// set your execution function on your daemon system\ndaemon.use(efn, true);\n// set your nb allowed retry \ndaemon.retry(10);\n// set your delay between each populate\ndaemon.delay(10);\n\n// check is your daemon is ready\nif (daemon.isReady(true)) {\n\n  // start your daemon\n  daemon.start();\n}\n```\n\n## How to pass context on populate and execute method\n\nYour can also set context of your populate and execute method. For this You must set the third parameters of use method.\n\n```javascript\n// set your populate function on your daemon system\ndaemon.use(pfn, false, CONTEXT_HERE);\n// set your execution function on your daemon system\ndaemon.use(efn, true, CONTEXT_HERE);\n```\n\n## How to use priority on queue\n\nBy default pour populate method can return anything in what structure you want.\n\nIf you want use priority your populate method must return an object like : \n\n```javascript\n{\n  data      : \'YOUR_DATA_TO_EXECUTE_HERE\', // WHAT YOU WANT HERE OBJ, ARRAY, ETC\n  priority  : \'YOUR_PRIORITY_HERE\', // MUST BE AN INTEGER\n  callback  : function () {\n    // A CALLBACK METHOD => PREFER USE YOUR OWN CALLBACK BY DEFAULT WE USE AN INTERNAL CALLBACK METHOD\n  }\n}\n```\n\n## Available methods\n\n- start() : start daemon\n- pause() : pause current queue **WARNING : In this function we use setTimeout, this will be remove in a future version**\n- resume() : resume current queue\n- clean() : clean current queue\n- use(Function, Boolean) : to set populate and execute function on daemon. the second param must to set at true to set execute method\n- lessWorkers() : add less workers on queue to manage concurrency limit\n- moreWorkers(Integer) : add more workers on queue to manage concurrency limit. if integer is not defined default value (10) must be use\n\n## Logging in tool\n\nBy Default this module include [yocto-logger](https://www.npmjs.com/package/yocto-logger) for logging. It\'s possible to inject in your router instance your current logger instance if is another yocto-logger instance.\n\n## Changelog\n\nAll history is [here](https://gitlab.com/yocto-node-modules/yocto-daemon#README)\n\n\n',
17 silly publish   readmeFilename: 'README.md',
17 silly publish   gitHead: '39780afa2a0c6a497b51f5a839725a95b0579fd8',
17 silly publish   homepage: 'https://gitlab.com/yocto-node-modules/yocto-daemon#README',
17 silly publish   _id: 'yocto-daemon@1.1.5',
17 silly publish   _shasum: 'dc5c94a08ed24fb93c343c70d361fae39a593c04',
17 silly publish   _from: '.' }
18 verbose getPublishConfig undefined
19 silly mapToRegistry name yocto-daemon
20 silly mapToRegistry using default registry
21 silly mapToRegistry registry https://registry.npmjs.org/
22 silly mapToRegistry uri https://registry.npmjs.org/yocto-daemon
23 verbose publish registryBase https://registry.npmjs.org/
24 silly publish uploading /Users/yocto/.npm/yocto-daemon/1.1.5/package.tgz
25 verbose request uri https://registry.npmjs.org/yocto-daemon
26 verbose request sending authorization for write operation
27 info attempt registry request try #1 at 3:25:50 PM
28 verbose request using bearer token for auth
29 verbose request id ac753d6d8194e93d
30 http request PUT https://registry.npmjs.org/yocto-daemon
31 http 403 https://registry.npmjs.org/yocto-daemon
32 verbose headers { 'content-type': 'application/json',
32 verbose headers   'cache-control': 'max-age=300',
32 verbose headers   'content-length': '95',
32 verbose headers   'accept-ranges': 'bytes',
32 verbose headers   date: 'Thu, 04 Feb 2016 11:25:56 GMT',
32 verbose headers   via: '1.1 varnish',
32 verbose headers   connection: 'keep-alive',
32 verbose headers   'x-served-by': 'cache-lhr6326-LHR',
32 verbose headers   'x-cache': 'MISS',
32 verbose headers   'x-cache-hits': '0',
32 verbose headers   'x-timer': 'S1454585154.564584,VS0,VE1514' }
33 verbose request invalidating /Users/yocto/.npm/registry.npmjs.org/yocto-daemon on PUT
34 error publish Failed PUT 403
35 verbose stack Error: "You cannot publish over the previously published version 1.1.5." : yocto-daemon
35 verbose stack     at makeError (/usr/local/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:264:12)
35 verbose stack     at CachingRegistryClient.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:252:14)
35 verbose stack     at Request._callback (/usr/local/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:172:14)
35 verbose stack     at Request.self.callback (/usr/local/lib/node_modules/npm/node_modules/request/request.js:198:22)
35 verbose stack     at emitTwo (events.js:87:13)
35 verbose stack     at Request.emit (events.js:172:7)
35 verbose stack     at Request.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/request/request.js:1063:14)
35 verbose stack     at emitOne (events.js:82:20)
35 verbose stack     at Request.emit (events.js:169:7)
35 verbose stack     at IncomingMessage.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/request/request.js:1009:12)
36 verbose statusCode 403
37 verbose pkgid yocto-daemon
38 verbose cwd /Users/yocto/Documents/Yocto/projets/yocto-node-modules/yocto-daemon
39 error Darwin 15.2.0
40 error argv "/usr/local/bin/node" "/usr/local/bin/npm" "publish"
41 error node v4.2.1
42 error npm  v2.14.7
43 error code E403
44 error "You cannot publish over the previously published version 1.1.5." : yocto-daemon
45 error If you need help, you may report this error at:
45 error     <https://github.com/npm/npm/issues>
46 verbose exit [ 1, true ]
